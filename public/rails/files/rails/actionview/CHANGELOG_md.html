<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>CHANGELOG.md</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/github.css" type="text/css" media="screen" />
<script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            CHANGELOG.md
        </h1>
        <ul class="files">
            
            <li>
                rails/actionview/CHANGELOG.md
                
                    <a href="https://github.com/mikdiet/api/blob/d92e58be3292401c670683bea89f743ac3273e05/rails/actionview/CHANGELOG.md" target="_blank" class="github_url">on GitHub</a>
                
            </li>
            <li>Last modified: 2021-02-27 11:59:48 +0300</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h2 id="label-Rails+6.0.3.5+-28February+10-2C+2021-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.3.5 (February 10, 2021)</h2>

<pre><code>No changes.</code></pre>

<h2 id="label-Rails+6.0.3.4+-28October+07-2C+2020-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.3.4 (October 07, 2020)</h2>

<pre><code>No changes.</code></pre>

<h2 id="label-Rails+6.0.3.3+-28September+09-2C+2020-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.3.3 (September 09, 2020)</h2>

<pre><code>[CVE-2020-8185] Fix potential XSS vulnerability in the `translate`/`t` helper.

 Jonathan Hefner*</code></pre>

<h2 id="label-Rails+6.0.3.2+-28June+17-2C+2020-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.3.2 (June 17, 2020)</h2>

<pre><code>No changes.</code></pre>

<h2 id="label-Rails+6.0.3.1+-28May+18-2C+2020-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.3.1 (May 18, 2020)</h2>

<pre><code>[CVE-2020-8167] Check that request is same-origin prior to including CSRF token in XHRs</code></pre>

<h2 id="label-Rails+6.0.3+-28May+06-2C+2020-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.3 (May 06, 2020)</h2>

<pre><code>annotated_source_code returns an empty array so TemplateErrors without a
template in the backtrace are surfaced properly by DebugExceptions.

 Guilherme Mansur*, *Kasper Timm Hansen*

Add autoload for SyntaxErrorInTemplate so syntax errors are correctly raised by DebugExceptions.

 Guilherme Mansur*, *Gannon McGibbon*</code></pre>

<h2 id="label-Rails+6.0.2.2+-28March+19-2C+2020-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.2.2 (March 19, 2020)</h2>

<pre><code>Fix possible XSS vector in escape_javascript helper

CVE-2020-5267

 Aaron Patterson*</code></pre>

<h2 id="label-Rails+6.0.2.1+-28December+18-2C+2019-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.2.1 (December 18, 2019)</h2>

<pre><code>No changes.</code></pre>

<h2 id="label-Rails+6.0.2+-28December+13-2C+2019-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.2 (December 13, 2019)</h2>

<pre><code>No changes.</code></pre>

<h2 id="label-Rails+6.0.1+-28November+5-2C+2019-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.1 (November 5, 2019)</h2>

<pre><code>UJS avoids `Element.closest()` for IE 9 compatibility.

 George Claghorn*</code></pre>

<h2 id="label-Rails+6.0.0+-28August+16-2C+2019-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.0 (August 16, 2019)</h2>

<pre><code>ActionView::Helpers::SanitizeHelper: support rails-html-sanitizer 1.1.0.

 Juanito Fatas*</code></pre>

<h2 id="label-Rails+6.0.0.rc2+-28July+22-2C+2019-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.0.rc2 (July 22, 2019)</h2>

<pre><code>Fix `select_tag` so that it doesn&#39;t change `options` when `include_blank` is present.

 Younes SERRAJ*</code></pre>

<h2 id="label-Rails+6.0.0.rc1+-28April+24-2C+2019-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.0.rc1 (April 24, 2019)</h2>

<pre><code>Fix partial caching skips same item issue

If we render cached collection partials with repeated items, those repeated items
will get skipped. For example, if you have 5 identical items in your collection, Rails
only renders the first one when `cached` is set to true. But it should render all
5 items instead.

Fixes #35114.

 Stan Lo*

Only clear ActionView cache in development on file changes

To speed up development mode, view caches are only cleared when files in
the view paths have changed. Applications which have implemented custom
`ActionView::Resolver` subclasses may need to add their own cache clearing.

 John Hawthorn*

Fix `ActionView::FixtureResolver` so that it handles template variants correctly.

 Edward Rudd*

`ActionView::TemplateRender.render(file: )` now renders the file directly,
without using any handlers, using the new `Template::RawFile` class.

 John Hawthorn*, *Cliff Pruitt*</code></pre>

<h2 id="label-Rails+6.0.0.beta3+-28March+11-2C+2019-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.0.beta3 (March 11, 2019)</h2>

<pre><code>Only accept formats from registered mime types

A lack of filtering on mime types could allow an attacker to read
arbitrary files on the target server or to perform a denial of service
attack.

Fixes CVE-2019-5418
Fixes CVE-2019-5419

 John Hawthorn*, *Eileen M. Uchitelle*, *Aaron Patterson*</code></pre>

<h2 id="label-Rails+6.0.0.beta2+-28February+25-2C+2019-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.0.beta2 (February 25, 2019)</h2>

<pre><code>`ActionView::Template.finalize_compiled_template_methods` is deprecated with
no replacement.

 tenderlove*

`config.action_view.finalize_compiled_template_methods` is deprecated with
no replacement.

 tenderlove*

Ensure unique DOM IDs for collection inputs with float values.

Fixes #34974.

 Mark Edmondson*

Single arity template handlers are deprecated.  Template handlers must
now accept two parameters, the view object and the source for the view object.

 tenderlove*</code></pre>

<h2 id="label-Rails+6.0.0.beta1+-28January+18-2C+2019-29"><a href="../../../classes/Rails.html">Rails</a> 6.0.0.beta1 (January 18, 2019)</h2>

<pre><code>[Rename npm package](https://github.com/rails/rails/pull/34905) from
[`rails-ujs`](https://www.npmjs.com/package/rails-ujs) to
[`@rails/ujs`](https://www.npmjs.com/package/@rails/ujs).

 Javan Makhmali*

Remove deprecated `image_alt` helper.

 Rafael Mendonça França*

Fix the need of `#protect_against_forgery?` method defined in
`ActionView::Base` subclasses. This prevents the use of forms and buttons.

 Genadi Samokovarov*

Fix UJS permanently showing disabled text in a[data-remote][data-disable-with] elements within forms.

Fixes #33889.

 Wolfgang Hobmaier*

Prevent non-primary mouse keys from triggering Rails UJS click handlers.
Firefox fires click events even if the click was triggered by non-primary mouse keys such as right- or scroll-wheel-clicks.
For example, right-clicking a link such as the one described below (with an underlying ajax request registered on click) should not cause that request to occur.

```
&lt;%= link_to &#39;Remote&#39;, remote_path, class: &#39;remote&#39;, remote: true, data: { type: :json } %&gt;
```

Fixes #34541.

 Wolfgang Hobmaier*

Prevent `ActionView::TextHelper#word_wrap` from unexpectedly stripping white space from the _left_ side of lines.

For example, given input like this:

```
    This is a paragraph with an initial indent,
followed by additional lines that are not indented,
and finally terminated with a blockquote:
  &quot;A pithy saying&quot;
```

Calling `word_wrap` should not trim the indents on the first and last lines.

Fixes #34487.

 Lyle Mullican*

Add allocations to template rendering instrumentation.

Adds the allocations for template and partial rendering to the server output on render.

```
  Rendered posts/_form.html.erb (Duration: 7.1ms | Allocations: 6004)
  Rendered posts/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 6654)
Completed 200 OK in 858ms (Views: 848.4ms | ActiveRecord: 0.4ms | Allocations: 1539564)
```

 Eileen M. Uchitelle*, *Aaron Patterson*

Respect the `only_path` option passed to `url_for` when the options are passed in as an array

Fixes #33237.

 Joel Ambass*

Deprecate calling private model methods from view helpers.

For example, in methods like `options_from_collection_for_select`
and `collection_select` it is possible to call private methods from
the objects used.

Fixes #33546.

 Ana María Martínez Gómez*

Fix issue with `button_to`&#39;s `to_form_params`

`button_to` was throwing exception when invoked with `params` hash that
contains symbol and string keys. The reason for the exception was that
`to_form_params` was comparing the given symbol and string keys.

The issue is fixed by turning all keys to strings inside
`to_form_params` before comparing them.

 Georgi Georgiev*

Mark arrays of translations as trusted safe by using the `_html` suffix.

Example:

    en:
      foo_html:
        - &quot;One&quot;
        - &quot;&lt;strong&gt;Two&lt;/strong&gt;&quot;
        - &quot;Three &amp;#128075; &amp;#128578;&quot;

 Juan Broullon*

Add `year_format` option to date_select tag. This option makes it possible to customize year
names. Lambda should be passed to use this option.

Example:

    date_select(&#39;user_birthday&#39;, &#39;&#39;, start_year: 1998, end_year: 2000, year_format: -&gt;year { &quot;Heisei #{year - 1988}&quot; })

The HTML produced:

    &lt;select id=&quot;user_birthday__1i&quot; name=&quot;user_birthday[(1i)]&quot;&gt;
    &lt;option value=&quot;1998&quot;&gt;Heisei 10&lt;/option&gt;
    &lt;option value=&quot;1999&quot;&gt;Heisei 11&lt;/option&gt;
    &lt;option value=&quot;2000&quot;&gt;Heisei 12&lt;/option&gt;
    &lt;/select&gt;
       The rest is omitted   

 Koki Ryu*

Fix JavaScript views rendering does not work with Firefox when using
Content Security Policy.

Fixes #32577.

 Yuji Yaginuma*

Add the `nonce: true` option for `javascript_include_tag` helper to
support automatic nonce generation for Content Security Policy.
Works the same way as `javascript_tag nonce: true` does.

 Yaroslav Markin*

Remove `ActionView::Helpers::RecordTagHelper`.

 Yoshiyuki Hirano*

Disable `ActionView::Template` finalizers in test environment.

Template finalization can be expensive in large view test suites.
Add a configuration option,
`action_view.finalize_compiled_template_methods`, and turn it off in
the test environment.

 Simon Coffey*

Extract the `confirm` call in its own, overridable method in `rails_ujs`.

Example:

    Rails.confirm = function(message, element) {
      return (my_bootstrap_modal_confirm(message));
    }

 Mathieu Mahé*

Enable select tag helper to mark `prompt` option as `selected` and/or `disabled` for `required`
field.

Example:

    select :post,
           :category,
           [&quot;lifestyle&quot;, &quot;programming&quot;, &quot;spiritual&quot;],
           { selected: &quot;&quot;, disabled: &quot;&quot;, prompt: &quot;Choose one&quot; },
           { required: true }

Placeholder option would be selected and disabled.

The HTML produced:

    &lt;select required=&quot;required&quot; name=&quot;post[category]&quot; id=&quot;post_category&quot;&gt;
    &lt;option disabled=&quot;disabled&quot; selected=&quot;selected&quot; value=&quot;&quot;&gt;Choose one&lt;/option&gt;
    &lt;option value=&quot;lifestyle&quot;&gt;lifestyle&lt;/option&gt;
    &lt;option value=&quot;programming&quot;&gt;programming&lt;/option&gt;
    &lt;option value=&quot;spiritual&quot;&gt;spiritual&lt;/option&gt;&lt;/select&gt;

 Sergey Prikhodko*

Don&#39;t enforce UTF-8 by default.

With the disabling of TLS 1.0 by most major websites, continuing to run
IE8 or lower becomes increasingly difficult so default to not enforcing
UTF-8 encoding as it&#39;s not relevant to other browsers.

 Andrew White*

Change translation key of `submit_tag` from `module_name_class_name` to `module_name/class_name`.

 Rui Onodera*

Rails 6 requires Ruby 2.5.0 or newer.

 Jeremy Daer*, *Kasper Timm Hansen*</code></pre>

<p>Please check <a
href="https://github.com/rails/rails/blob/5-2-stable/actionview/CHANGELOG.md">5-2-stable</a>
for previous changes.</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>

    </div>
  </body>
</html>
