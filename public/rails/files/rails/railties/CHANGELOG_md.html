<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>CHANGELOG.md</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/github.css" type="text/css" media="screen" />
<script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            CHANGELOG.md
        </h1>
        <ul class="files">
            
            <li>
                rails/railties/CHANGELOG.md
                
                    <a href="https://github.com/rails/rails/blob/ce93740a5e4437dfc1cf9b0b13da1bad06a2a598/railties/CHANGELOG.md" target="_blank" class="github_url">on GitHub</a>
                
            </li>
            <li>Last modified: 2017-06-18 10:15:06 +0300</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h2 id="label-Rails+5.1.0+-28April+27-2C+2017-29"><a href="../../../classes/Rails.html">Rails</a> 5.1.0 (April 27, 2017)</h2>
<ul><li>
<p>Namespace error pages&#39; CSS selectors to stop the styles from bleeding
into other pages when using Turbolinks.</p>

<p><em>Jan Krutisch</em></p>
</li><li>
<p>Raise a error when using a bad symlink</p>

<p>Previously bad symlinks (where the link destination doesn&#39;t exist)
would be silent ignored and lead to hard to diagnose problems as the
non-existence isn&#39;t readily apparent.</p>

<p><em>Richard Schneeman</em></p>
</li><li>
<p>Remove -j (--javascript) option from <code>rails new</code> command.</p>

<p><em>claudiob</em></p>
</li><li>
<p>Specify form field ids when generating a scaffold.</p>

<p>This makes sure that the labels are linked up with the fields. The
regression was introduced when the template was switched to
<code>form_with</code>.</p>

<p><em>Yves Senn</em></p>
</li><li>
<p>Add <code>app:update</code> task to engines.</p>

<p><em>Yuji Yaginuma</em></p>
</li><li>
<p>Avoid running system tests by default with the <code>bin/rails test</code>
and <code>bin/rake test</code> commands since they may be expensive.</p>

<p>Fixes #28286.</p>

<p><em>Robin Dupret</em></p>
</li><li>
<p>Improve encryption for encrypted secrets.</p>

<p>Switch to aes-128-gcm authenticated encryption. Also generate a random
initialization vector for each encryption so the same input and key can
generate different encrypted data.</p>

<p>Double the encryption key entropy by properly extracting the underlying
bytes from the hexadecimal seed key.</p>

<p>NOTE: Since the encryption mechanism has been switched, you need to run
this script to upgrade:</p>

<p><a
href="https://gist.github.com/kaspth/bc37989c2f39a5642112f28b1d93f343">gist.github.com/kaspth/bc37989c2f39a5642112f28b1d93f343</a></p>

<p><em>Stephen Touset</em></p>
</li><li>
<p>Add encrypted secrets in <code>config/secrets.yml.enc</code>.</p>

<p>Allow storing production secrets straight in the revision control system by
encrypting them.</p>

<p>Use <code>bin/rails secrets:setup</code> to opt-in by generating
<code>config/secrets.yml.enc</code> for the secrets themselves and
<code>config/secrets.yml.key</code> for the encryption key.</p>

<p>Edit secrets with <code>bin/rails secrets:edit</code>.</p>

<p>See <code>bin/rails secrets:setup --help</code> for more.</p>

<p><em>Kasper Timm Hansen</em></p>
</li><li>
<p>Fix running multiple tests in one <code>rake</code> command</p>

<p>e.g. <code>bin/rake test:models test:controllers</code></p>

<p><em>Dominic Cleal</em></p>
</li><li>
<p>Add option to configure Ruby&#39;s warning behaviour to test runner.</p>

<p><em>Yuji Yaginuma</em></p>
</li><li>
<p>Initialize git repo when generating new app, if option
<code>--skip-git</code> is not provided.</p>

<p><em>Dino Maric</em></p>
</li><li>
<p>Install Byebug gem as default in Windows (mingw and x64_mingw) platform.</p>

<p><em>Junichi Ito</em></p>
</li><li>
<p>Make every <a href="../../../classes/Rails.html">Rails</a> command work
within engines.</p>

<p><em>Sean Collins</em>, <em>Yuji Yaginuma</em></p>
</li><li>
<p>Don&#39;t generate HTML/ERB templates for scaffold controller with
<code>--api</code> flag.</p>

<p>Fixes #27591.</p>

<p><em>Prathamesh Sonpatki</em></p>
</li><li>
<p>Make <code>Rails.env</code> fall back to <code>development</code> when
<code>RAILS_ENV</code> and <code>RACK_ENV</code> is an empty string.</p>

<p><em>Daniel Deng</em></p>
</li><li>
<p>Remove deprecated <code>CONTROLLER</code> environment variable for
<code>routes</code> task.</p>

<p><em>Rafael Mendonça França</em></p>
</li><li>
<p>Remove deprecated tasks: <code>rails:update</code>,
<code>rails:template</code>, <code>rails:template:copy</code>,
<code>rails:update:configs</code> and <code>rails:update:bin</code>.</p>

<p><em>Rafael Mendonça França</em></p>
</li><li>
<p>Remove deprecated file <code>rails/rack/debugger</code>.</p>

<p><em>Rafael Mendonça França</em></p>
</li><li>
<p>Remove deprecated <code>config.serve_static_files</code>.</p>

<p><em>Rafael Mendonça França</em></p>
</li><li>
<p>Remove deprecated <code>config.static_cache_control</code>.</p>

<p><em>Rafael Mendonça França</em></p>
</li><li>
<p>The <code>log:clear</code> task clear all environments log files by
default.</p>

<p><em>Yuji Yaginuma</em></p>
</li><li>
<p>Add Webpack support in new apps via the --webpack option, which will
delegate to the rails/webpacker gem.</p>

<p>To generate a new app that has Webpack dependencies configured and binstubs
for webpack and webpack-watcher:</p>

<p><code>rails new myapp --webpack</code></p>

<p>To generate a new app that has Webpack + React configured and an example
intalled:</p>

<p><code>rails new myapp --webpack=react</code></p>

<p><em>DHH</em></p>
</li><li>
<p>Add Yarn support in new apps with a yarn binstub and package.json.
Skippable via --skip-yarn option.</p>

<p><em>Liceth Ovalles</em>, <em>Guillermo Iguaran</em>, <em>DHH</em></p>
</li><li>
<p>Removed jquery-rails from default stack, instead rails-ujs that is shipped
with Action View is included as default UJS adapter.</p>

<p><em>Guillermo Iguaran</em></p>
</li><li>
<p>The config file <code>secrets.yml</code> is now loaded in with all keys as
symbols. This allows secrets files to contain more complex information
without all child keys being strings while parent keys are symbols.</p>

<p><em>Isaac Sloan</em></p>
</li><li>
<p>Add <code>:skip_sprockets</code> to
<code>Rails::PluginBuilder::PASSTHROUGH_OPTIONS</code></p>

<p><em>Tsukuru Tanimichi</em></p>
</li><li>
<p>Add <code>--skip-coffee</code> option to <code>rails new</code></p>

<p><em>Seunghwan Oh</em></p>
</li><li>
<p>Allow the use of listen&#39;s 3.1.x branch</p>

<p><em>Esteban Santana Santana</em></p>
</li><li>
<p>Run <code>Minitest.after_run</code> hooks when running <code>rails
test</code>.</p>

<p><em>Michael Grosser</em></p>
</li><li>
<p>Run <code>before_configuration</code> callbacks as soon as application
constant inherits from <code>Rails::Application</code>.</p>

<p>Fixes #19880.</p>

<p><em>Yuji Yaginuma</em></p>
</li><li>
<p>A generated app should not include Uglifier with
<code>--skip-javascript</code> option.</p>

<p><em>Ben Pickles</em></p>
</li><li>
<p>Set session store to cookie store internally and remove the initializer
from the generated app.</p>

<p><em>Prathamesh Sonpatki</em></p>
</li><li>
<p>Set the server host using the <code>HOST</code> environment variable.</p>

<p><em>mahnunchik</em></p>
</li><li>
<p>Add public API to register new folders for <code>rake notes</code>:</p>

<pre><code>config.annotations.register_directories(&#39;spec&#39;, &#39;features&#39;)
</code></pre>

<p><em>John Meehan</em></p>
</li><li>
<p>Display name of the class defining the initializer along with the
initializer name in the output of <code>rails initializers</code>.</p>

<p>Before:  disable_dependency_loading</p>

<p>After:  DemoApp::Application.disable_dependency_loading</p>

<p><em>ta1kt0me</em></p>
</li><li>
<p>Do not run <code>bundle install</code> when generating a new plugin.</p>

<p>Since bundler 1.12.0, the gemspec is validated so the <code>bundle
install</code> command will fail just after the gem is created causing
confusion to the users. This change was a bug fix to correctly validate
gemspecs.</p>

<p><em>Rafael Mendonça França</em></p>
</li><li>
<p>Ensure <code>/rails/info</code> routes match in development for apps with a
catch-all globbing route.</p>

<p><em>Nicholas Firth-McCoy</em></p>
</li><li>
<p>Added a shared section to <code>config/secrets.yml</code> that will be
loaded for all environments.</p>

<p><em>DHH</em></p>
</li></ul>

<p>Please check <a
href="https://github.com/rails/rails/blob/5-0-stable/railties/CHANGELOG.md">5-0-stable</a>
for previous changes.</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>

    </div>
  </body>
</html>
