<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>DependenciesTest</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            DependenciesTest 
            
                <span class="parent">&lt; 
                    
                    <a href="ActiveSupport/TestCase.html">ActiveSupport::TestCase</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/rails/activesupport/test/dependencies_test_rb.html">rails/activesupport/test/dependencies_test.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-failing_test_access_thru_and_upwards_fails">failing_test_access_thru_and_upwards_fails</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-teardown">teardown</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_application_should_special_case_application_controller">test_application_should_special_case_application_controller</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_autoload_doesnt_shadow_error_when_mechanism_not_set_to_load">test_autoload_doesnt_shadow_error_when_mechanism_not_set_to_load</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_autoload_doesnt_shadow_name_error">test_autoload_doesnt_shadow_name_error</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_autoload_doesnt_shadow_no_method_error_with_absolute_constant">test_autoload_doesnt_shadow_no_method_error_with_absolute_constant</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_autoload_doesnt_shadow_no_method_error_with_relative_constant">test_autoload_doesnt_shadow_no_method_error_with_relative_constant</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_autoload_once_pathnames_do_not_add_to_autoloaded_constants">test_autoload_once_pathnames_do_not_add_to_autoloaded_constants</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_autoload_once_paths_do_not_add_to_autoloaded_constants">test_autoload_once_paths_do_not_add_to_autoloaded_constants</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_autoload_once_paths_should_behave_when_recursively_loading">test_autoload_once_paths_should_behave_when_recursively_loading</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_autoloaded-3F">test_autoloaded?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_circular_autoloading_detection">test_circular_autoloading_detection</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_class_with_nested_class">test_class_with_nested_class</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_class_with_nested_inline_class">test_class_with_nested_inline_class</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_class_with_nested_inline_subclass_of_parent">test_class_with_nested_inline_subclass_of_parent</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_const_missing_should_not_double_load">test_const_missing_should_not_double_load</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_const_missing_within_anonymous_module">test_const_missing_within_anonymous_module</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_constantize_shortcut_for_cached_constant_lookups">test_constantize_shortcut_for_cached_constant_lookups</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_custom_const_missing_should_work">test_custom_const_missing_should_work</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_depend_on_path">test_depend_on_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_dependency_which_raises_exception_isnt_added_to_loaded_set">test_dependency_which_raises_exception_isnt_added_to_loaded_set</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_directories_manifest_as_modules_unless_const_defined">test_directories_manifest_as_modules_unless_const_defined</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_directories_may_manifest_as_nested_classes">test_directories_may_manifest_as_nested_classes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_doesnt_break_normal_require">test_doesnt_break_normal_require</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_doesnt_break_normal_require_nested">test_doesnt_break_normal_require_nested</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_file_search">test_file_search</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_file_search_uses_first_in_load_path">test_file_search_uses_first_in_load_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_file_with_multiple_constants_and_auto_loading">test_file_with_multiple_constants_and_auto_loading</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_file_with_multiple_constants_and_require_dependency">test_file_with_multiple_constants_and_require_dependency</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_hook_called_multiple_times">test_hook_called_multiple_times</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_once_constants_should_not_be_unloaded">test_load_once_constants_should_not_be_unloaded</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_raises_load_error_when_file_not_found">test_load_raises_load_error_when_file_not_found</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_returns_true_when_file_found">test_load_returns_true_when_file_found</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loadable_constants_for_path_should_handle_empty_autoloads">test_loadable_constants_for_path_should_handle_empty_autoloads</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loadable_constants_for_path_should_handle_relative_paths">test_loadable_constants_for_path_should_handle_relative_paths</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loadable_constants_for_path_should_provide_all_results">test_loadable_constants_for_path_should_provide_all_results</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loadable_constants_for_path_should_uniq_results">test_loadable_constants_for_path_should_uniq_results</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loadable_constants_with_load_path_without_trailing_slash">test_loadable_constants_with_load_path_without_trailing_slash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_missing_dependency_raises_missing_source_file">test_missing_dependency_raises_missing_source_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_module_loading">test_module_loading</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_module_with_nested_class">test_module_with_nested_class</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_module_with_nested_inline_class">test_module_with_nested_inline_class</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_mutual_dependencies_dont_infinite_loop">test_mutual_dependencies_dont_infinite_loop</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_class_can_access_sibling">test_nested_class_can_access_sibling</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_file_with_multiple_constants_and_auto_loading">test_nested_file_with_multiple_constants_and_auto_loading</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_file_with_multiple_constants_and_require_dependency">test_nested_file_with_multiple_constants_and_require_dependency</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_load_error_isnt_rescued">test_nested_load_error_isnt_rescued</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_constants_in_module">test_new_constants_in_module</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_constants_in_module_using_name">test_new_constants_in_module_using_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_constants_in_with_a_single_constant">test_new_constants_in_with_a_single_constant</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_constants_in_with_illegal_module_name_raises_correct_error">test_new_constants_in_with_illegal_module_name_raises_correct_error</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_constants_in_with_inherited_constants">test_new_constants_in_with_inherited_constants</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_constants_in_with_nesting">test_new_constants_in_with_nesting</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_contants_in_without_constants">test_new_contants_in_without_constants</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_non_existing_const_raises_name_error">test_non_existing_const_raises_name_error</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_non_existing_const_raises_name_error_with_fully_qualified_name">test_non_existing_const_raises_name_error_with_fully_qualified_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preexisting_constants_are_not_marked_as_autoloaded">test_preexisting_constants_are_not_marked_as_autoloaded</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_qualified_const_defined">test_qualified_const_defined</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_qualified_const_defined_explodes_with_invalid_const_name">test_qualified_const_defined_explodes_with_invalid_const_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_qualified_const_defined_should_not_call_const_missing">test_qualified_const_defined_should_not_call_const_missing</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_qualified_name_for">test_qualified_name_for</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_references_should_work">test_references_should_work</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_removal_from_tree_should_be_detected">test_removal_from_tree_should_be_detected</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_remove_constant_does_not_autoload_already_removed_parents_as_a_side_effect">test_remove_constant_does_not_autoload_already_removed_parents_as_a_side_effect</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_remove_constant_does_not_trigger_loading_autoloads">test_remove_constant_does_not_trigger_loading_autoloads</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_remove_constant_handles_double_colon_at_start">test_remove_constant_handles_double_colon_at_start</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_require_raises_load_error_when_file_not_found">test_require_raises_load_error_when_file_not_found</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_require_returns_false_when_file_already_required">test_require_returns_false_when_file_already_required</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_require_returns_true_when_file_not_yet_required">test_require_returns_true_when_file_not_yet_required</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_require_returns_true_when_file_not_yet_required_even_when_no_new_constants_added">test_require_returns_true_when_file_not_yet_required_even_when_no_new_constants_added</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_smart_name_error_strings">test_smart_name_error_strings</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_tracking_identical_loaded_files">test_tracking_identical_loaded_files</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_tracking_loaded_files">test_tracking_loaded_files</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_unhook">test_unhook</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_unloadable">test_unloadable</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_unloadable_constants_should_receive_callback">test_unloadable_constants_should_receive_callback</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_unloadable_should_fail_with_anonymous_modules">test_unloadable_should_fail_with_anonymous_modules</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_unloadable_should_return_change_flag">test_unloadable_should_return_change_flag</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_warnings_should_be_enabled_on_first_load">test_warnings_should_be_enabled_on_first_load</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="DependeciesTestHelpers.html">
              DependeciesTestHelpers
            </a>
          
        </li>
      
        <li>
          
            <a href="ModuleWithConstant.html">
              ModuleWithConstant
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-failing_test_access_thru_and_upwards_fails">
            
              <b>failing_test_access_thru_and_upwards_fails</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-failing_test_access_thru_and_upwards_fails" name="method-i-failing_test_access_thru_and_upwards_fails" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-failing_test_access_thru_and_upwards_fails_source')" id="l_method-i-failing_test_access_thru_and_upwards_fails_source">show</a>
                
              </p>
              <div id="method-i-failing_test_access_thru_and_upwards_fails_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 339</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">failing_test_access_thru_and_upwards_fails</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ModuleFolder</span>)
    <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">Object</span> }
    <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span><span class="ruby-operator">::</span><span class="ruby-constant">Object</span> }
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">__send__</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ModuleFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-teardown">
            
              <b>teardown</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-teardown" name="method-i-teardown" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-teardown_source')" id="l_method-i-teardown_source">show</a>
                
              </p>
              <div id="method-i-teardown_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 19</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">teardown</span>
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_application_should_special_case_application_controller">
            
              <b>test_application_should_special_case_application_controller</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_application_should_special_case_application_controller" name="method-i-test_application_should_special_case_application_controller" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_application_should_special_case_application_controller_source')" id="l_method-i-test_application_should_special_case_application_controller_source">show</a>
                
              </p>
              <div id="method-i-test_application_should_special_case_application_controller_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 617</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_application_should_special_case_application_controller</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">&#39;application&#39;</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">10</span>, <span class="ruby-constant">ApplicationController</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:ApplicationController</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_autoload_doesnt_shadow_error_when_mechanism_not_set_to_load">
            
              <b>test_autoload_doesnt_shadow_error_when_mechanism_not_set_to_load</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_autoload_doesnt_shadow_error_when_mechanism_not_set_to_load" name="method-i-test_autoload_doesnt_shadow_error_when_mechanism_not_set_to_load" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_autoload_doesnt_shadow_error_when_mechanism_not_set_to_load_source')" id="l_method-i-test_autoload_doesnt_shadow_error_when_mechanism_not_set_to_load_source">show</a>
                
              </p>
              <div id="method-i-test_autoload_doesnt_shadow_error_when_mechanism_not_set_to_load_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 869</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_autoload_doesnt_shadow_error_when_mechanism_not_set_to_load</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">mechanism</span> = <span class="ruby-value">:require</span>
    <span class="ruby-number">2</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">123</span>, <span class="ruby-operator">::</span><span class="ruby-constant">RaisesNameError</span><span class="ruby-operator">::</span><span class="ruby-constant">FooBarBaz</span> }
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_autoload_doesnt_shadow_name_error">
            
              <b>test_autoload_doesnt_shadow_name_error</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_autoload_doesnt_shadow_name_error" name="method-i-test_autoload_doesnt_shadow_name_error" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_autoload_doesnt_shadow_name_error_source')" id="l_method-i-test_autoload_doesnt_shadow_name_error_source">show</a>
                
              </p>
              <div id="method-i-test_autoload_doesnt_shadow_name_error_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 878</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_autoload_doesnt_shadow_name_error</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:remove_const</span>, <span class="ruby-value">:RaisesNameError</span>) <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNameError</span>)
    <span class="ruby-number">2</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-operator">::</span><span class="ruby-constant">RaisesNameError</span><span class="ruby-operator">::</span><span class="ruby-constant">FooBarBaz</span>.<span class="ruby-identifier">object_id</span>
        <span class="ruby-identifier">flunk</span> <span class="ruby-string">&#39;should have raised NameError when autoloaded file referenced FooBarBaz&#39;</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
        <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&#39;uninitialized constant RaisesNameError::FooBarBaz&#39;</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNameError</span>), <span class="ruby-string">&quot;::RaisesNameError is defined but it should have failed!&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNameError</span>)
    <span class="ruby-number">2</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-operator">::</span><span class="ruby-constant">RaisesNameError</span> }
      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNameError</span>), <span class="ruby-string">&quot;::RaisesNameError is defined but it should have failed!&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-value">:RaisesNoMethodError</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:RaisesNoMethodError</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_autoload_doesnt_shadow_no_method_error_with_absolute_constant">
            
              <b>test_autoload_doesnt_shadow_no_method_error_with_absolute_constant</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_autoload_doesnt_shadow_no_method_error_with_absolute_constant" name="method-i-test_autoload_doesnt_shadow_no_method_error_with_absolute_constant" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_autoload_doesnt_shadow_no_method_error_with_absolute_constant_source')" id="l_method-i-test_autoload_doesnt_shadow_no_method_error_with_absolute_constant_source">show</a>
                
              </p>
              <div id="method-i-test_autoload_doesnt_shadow_no_method_error_with_absolute_constant_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 856</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_autoload_doesnt_shadow_no_method_error_with_absolute_constant</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNoMethodError</span>), <span class="ruby-string">&quot;::RaisesNoMethodError is defined but it hasn&#39;t been referenced yet!&quot;</span>
    <span class="ruby-number">2</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-operator">::</span><span class="ruby-constant">RaisesNoMethodError</span> }
      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNoMethodError</span>), <span class="ruby-string">&quot;::RaisesNoMethodError is defined but it should have failed!&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-value">:RaisesNoMethodError</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:RaisesNoMethodError</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_autoload_doesnt_shadow_no_method_error_with_relative_constant">
            
              <b>test_autoload_doesnt_shadow_no_method_error_with_relative_constant</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_autoload_doesnt_shadow_no_method_error_with_relative_constant" name="method-i-test_autoload_doesnt_shadow_no_method_error_with_relative_constant" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_autoload_doesnt_shadow_no_method_error_with_relative_constant_source')" id="l_method-i-test_autoload_doesnt_shadow_no_method_error_with_relative_constant_source">show</a>
                
              </p>
              <div id="method-i-test_autoload_doesnt_shadow_no_method_error_with_relative_constant_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 843</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_autoload_doesnt_shadow_no_method_error_with_relative_constant</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNoMethodError</span>), <span class="ruby-string">&quot;::RaisesNoMethodError is defined but it hasn&#39;t been referenced yet!&quot;</span>
    <span class="ruby-number">2</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-constant">RaisesNoMethodError</span> }
      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNoMethodError</span>), <span class="ruby-string">&quot;::RaisesNoMethodError is defined but it should have failed!&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-value">:RaisesNoMethodError</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:RaisesNoMethodError</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_autoload_once_pathnames_do_not_add_to_autoloaded_constants">
            
              <b>test_autoload_once_pathnames_do_not_add_to_autoloaded_constants</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_autoload_once_pathnames_do_not_add_to_autoloaded_constants" name="method-i-test_autoload_once_pathnames_do_not_add_to_autoloaded_constants" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_autoload_once_pathnames_do_not_add_to_autoloaded_constants_source')" id="l_method-i-test_autoload_once_pathnames_do_not_add_to_autoloaded_constants_source">show</a>
                
              </p>
              <div id="method-i-test_autoload_once_pathnames_do_not_add_to_autoloaded_constants_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 599</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_autoload_once_pathnames_do_not_add_to_autoloaded_constants</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">pathnames</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_paths</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">p</span>)}
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_paths</span> = <span class="ruby-identifier">pathnames</span>
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_once_paths</span> = <span class="ruby-identifier">pathnames</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder::NestedClass&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-constant">ModuleFolder</span>)

    <span class="ruby-number">1</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span> <span class="ruby-comment"># 1 if to avoid warning</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-value">:ModuleFolder</span> }
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_once_paths</span> = []
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_autoload_once_paths_do_not_add_to_autoloaded_constants">
            
              <b>test_autoload_once_paths_do_not_add_to_autoloaded_constants</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_autoload_once_paths_do_not_add_to_autoloaded_constants" name="method-i-test_autoload_once_paths_do_not_add_to_autoloaded_constants" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_autoload_once_paths_do_not_add_to_autoloaded_constants_source')" id="l_method-i-test_autoload_once_paths_do_not_add_to_autoloaded_constants_source">show</a>
                
              </p>
              <div id="method-i-test_autoload_once_paths_do_not_add_to_autoloaded_constants_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 583</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_autoload_once_paths_do_not_add_to_autoloaded_constants</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_once_paths</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_paths</span>.<span class="ruby-identifier">dup</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder::NestedClass&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-constant">ModuleFolder</span>)

    <span class="ruby-number">1</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span> <span class="ruby-comment"># 1 if to avoid warning</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-value">:ModuleFolder</span> }
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_once_paths</span> = []
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_autoload_once_paths_should_behave_when_recursively_loading">
            
              <b>test_autoload_once_paths_should_behave_when_recursively_loading</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_autoload_once_paths_should_behave_when_recursively_loading" name="method-i-test_autoload_once_paths_should_behave_when_recursively_loading" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_autoload_once_paths_should_behave_when_recursively_loading_source')" id="l_method-i-test_autoload_once_paths_should_behave_when_recursively_loading_source">show</a>
                
              </p>
              <div id="method-i-test_autoload_once_paths_should_behave_when_recursively_loading_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 945</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_autoload_once_paths_should_behave_when_recursively_loading</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">&#39;dependencies&#39;</span>, <span class="ruby-string">&#39;autoloading_fixtures&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_once_paths</span> = [<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_paths</span>.<span class="ruby-identifier">last</span>]
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-constant">CrossSiteDependency</span>)
    <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">CrossSiteDepender</span>.<span class="ruby-identifier">nil?</span> }
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">CrossSiteDependency</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-constant">CrossSiteDependency</span>),
      <span class="ruby-string">&quot;CrossSiteDependency shouldn&#39;t be marked as autoloaded!&quot;</span>
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">CrossSiteDependency</span>),
      <span class="ruby-string">&quot;CrossSiteDependency shouldn&#39;t have been unloaded!&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_once_paths</span> = []
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_autoloaded-3F">
            
              <b>test_autoloaded?</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_autoloaded-3F" name="method-i-test_autoloaded-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_autoloaded-3F_source')" id="l_method-i-test_autoloaded-3F_source">show</a>
                
              </p>
              <div id="method-i-test_autoloaded-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 428</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_autoloaded?</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder::NestedClass&quot;</span>)

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-constant">ModuleFolder</span>)

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder::NestedClass&quot;</span>)

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder::NestedClass&quot;</span>)

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;::ModuleFolder&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:ModuleFolder</span>)

    <span class="ruby-comment"># Anonymous modules aren&#39;t autoloaded.</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>)

    <span class="ruby-identifier">nil_name</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">nil_name</span>.<span class="ruby-identifier">name</span>() <span class="ruby-keyword">nil</span> <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-identifier">nil_name</span>)

    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-value">:ModuleFolder</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_circular_autoloading_detection">
            
              <b>test_circular_autoloading_detection</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_circular_autoloading_detection" name="method-i-test_circular_autoloading_detection" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_circular_autoloading_detection_source')" id="l_method-i-test_circular_autoloading_detection_source">show</a>
                
              </p>
              <div id="method-i-test_circular_autoloading_detection_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 131</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_circular_autoloading_detection</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">e</span> = <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">RuntimeError</span>) { <span class="ruby-constant">Circular1</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Circular dependency detected while autoloading constant Circular1&quot;</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_class_with_nested_class">
            
              <b>test_class_with_nested_class</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_class_with_nested_class" name="method-i-test_class_with_nested_class" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_class_with_nested_class_source')" id="l_method-i-test_class_with_nested_class_source">show</a>
                
              </p>
              <div id="method-i-test_class_with_nested_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 184</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_class_with_nested_class</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">__send__</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ClassFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_class_with_nested_inline_class">
            
              <b>test_class_with_nested_inline_class</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_class_with_nested_inline_class" name="method-i-test_class_with_nested_inline_class" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_class_with_nested_inline_class_source')" id="l_method-i-test_class_with_nested_inline_class_source">show</a>
                
              </p>
              <div id="method-i-test_class_with_nested_inline_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 191</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_class_with_nested_inline_class</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">InlineClass</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">__send__</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ClassFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_class_with_nested_inline_subclass_of_parent">
            
              <b>test_class_with_nested_inline_subclass_of_parent</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_class_with_nested_inline_subclass_of_parent" name="method-i-test_class_with_nested_inline_subclass_of_parent" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_class_with_nested_inline_subclass_of_parent_source')" id="l_method-i-test_class_with_nested_inline_subclass_of_parent_source">show</a>
                
              </p>
              <div id="method-i-test_class_with_nested_inline_subclass_of_parent_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 198</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_class_with_nested_inline_subclass_of_parent</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">ClassFolderSubclass</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ClassFolder</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&#39;indeed&#39;</span>, <span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">ClassFolderSubclass</span><span class="ruby-operator">::</span><span class="ruby-constant">ConstantInClassFolder</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">__send__</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ClassFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_const_missing_should_not_double_load">
            
              <b>test_const_missing_should_not_double_load</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_const_missing_should_not_double_load" name="method-i-test_const_missing_should_not_double_load" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_const_missing_should_not_double_load_source')" id="l_method-i-test_const_missing_should_not_double_load_source">show</a>
                
              </p>
              <div id="method-i-test_const_missing_should_not_double_load_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 514</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_const_missing_should_not_double_load</span>
  <span class="ruby-identifier">$counting_loaded_times</span> = <span class="ruby-number">0</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">&#39;././counting_loader&#39;</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">$counting_loaded_times</span>
    <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_missing_constant</span> <span class="ruby-constant">Object</span>, <span class="ruby-value">:CountingLoader</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">$counting_loaded_times</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_const_missing_within_anonymous_module">
            
              <b>test_const_missing_within_anonymous_module</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_const_missing_within_anonymous_module" name="method-i-test_const_missing_within_anonymous_module" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_const_missing_within_anonymous_module_source')" id="l_method-i-test_const_missing_within_anonymous_module_source">show</a>
                
              </p>
              <div id="method-i-test_const_missing_within_anonymous_module_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 524</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_const_missing_within_anonymous_module</span>
  <span class="ruby-identifier">$counting_loaded_times</span> = <span class="ruby-number">0</span>
  <span class="ruby-identifier">m</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">m</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-string">&quot;def a() CountingLoader; end&quot;</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-identifier">m</span>
  <span class="ruby-identifier">kls</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">kls</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">kls</span> = <span class="ruby-identifier">a</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;CountingLoader&quot;</span>, <span class="ruby-identifier">kls</span>.<span class="ruby-identifier">name</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">$counting_loaded_times</span>

    <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">kls</span> = <span class="ruby-identifier">a</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">$counting_loaded_times</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_constantize_shortcut_for_cached_constant_lookups">
            
              <b>test_constantize_shortcut_for_cached_constant_lookups</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_constantize_shortcut_for_cached_constant_lookups" name="method-i-test_constantize_shortcut_for_cached_constant_lookups" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_constantize_shortcut_for_cached_constant_lookups_source')" id="l_method-i-test_constantize_shortcut_for_cached_constant_lookups_source">show</a>
                
              </p>
              <div id="method-i-test_constantize_shortcut_for_cached_constant_lookups_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 569</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_constantize_shortcut_for_cached_constant_lookups</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">&#39;dependencies&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">ServiceOne</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">constantize</span>(<span class="ruby-string">&quot;ServiceOne&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_custom_const_missing_should_work">
            
              <b>test_custom_const_missing_should_work</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_custom_const_missing_should_work" name="method-i-test_custom_const_missing_should_work" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_custom_const_missing_should_work_source')" id="l_method-i-test_custom_const_missing_should_work_source">show</a>
                
              </p>
              <div id="method-i-test_custom_const_missing_should_work_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 495</span>
  <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_custom_const_missing_should_work</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-string">&quot;      module ModuleWithCustomConstMissing
        def self.const_missing(name)
          const_set name, name.to_s.hash
        end

        module A
        end
      end
&quot;</span>, <span class="ruby-keyword">__FILE__</span>, <span class="ruby-keyword">__LINE__</span> <span class="ruby-operator">+</span> <span class="ruby-number">1</span>

    <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Integer</span>, <span class="ruby-operator">::</span><span class="ruby-constant">ModuleWithCustomConstMissing</span><span class="ruby-operator">::</span><span class="ruby-constant">B</span>
      <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Module</span>, <span class="ruby-operator">::</span><span class="ruby-constant">ModuleWithCustomConstMissing</span><span class="ruby-operator">::</span><span class="ruby-constant">A</span>
      <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-operator">::</span><span class="ruby-constant">ModuleWithCustomConstMissing</span><span class="ruby-operator">::</span><span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">B</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_depend_on_path">
            
              <b>test_depend_on_path</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_depend_on_path" name="method-i-test_depend_on_path" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_depend_on_path_source')" id="l_method-i-test_depend_on_path_source">show</a>
                
              </p>
              <div id="method-i-test_depend_on_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 25</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_depend_on_path</span>
  <span class="ruby-identifier">skip</span> <span class="ruby-node">&quot;LoadError#path does not exist&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">RUBY_VERSION</span> <span class="ruby-operator">&lt;</span> <span class="ruby-string">&#39;2.0.0&#39;</span>

  <span class="ruby-identifier">expected</span> = <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">LoadError</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;omgwtfbbq&#39;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">e</span> = <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">LoadError</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">depend_on</span> <span class="ruby-string">&#39;omgwtfbbq&#39;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>.<span class="ruby-identifier">path</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">path</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_dependency_which_raises_exception_isnt_added_to_loaded_set">
            
              <b>test_dependency_which_raises_exception_isnt_added_to_loaded_set</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_dependency_which_raises_exception_isnt_added_to_loaded_set" name="method-i-test_dependency_which_raises_exception_isnt_added_to_loaded_set" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_dependency_which_raises_exception_isnt_added_to_loaded_set_source')" id="l_method-i-test_dependency_which_raises_exception_isnt_added_to_loaded_set_source">show</a>
                
              </p>
              <div id="method-i-test_dependency_which_raises_exception_isnt_added_to_loaded_set_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 59</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_dependency_which_raises_exception_isnt_added_to_loaded_set</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">filename</span> = <span class="ruby-string">&#39;dependencies/raises_exception&#39;</span>
    <span class="ruby-identifier">$raises_exception_load_count</span> = <span class="ruby-number">0</span>

    <span class="ruby-number">5</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">count</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">require_dependency</span> <span class="ruby-identifier">filename</span>
        <span class="ruby-identifier">flunk</span> <span class="ruby-string">&#39;should have loaded dependencies/raises_exception which raises an exception&#39;</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
        <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&#39;Loading me failed, so do not add to loaded or history.&#39;</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">count</span> <span class="ruby-operator">+</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">$raises_exception_load_count</span>

      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">filename</span>)
      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">history</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">filename</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_directories_manifest_as_modules_unless_const_defined">
            
              <b>test_directories_manifest_as_modules_unless_const_defined</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_directories_manifest_as_modules_unless_const_defined" name="method-i-test_directories_manifest_as_modules_unless_const_defined" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_directories_manifest_as_modules_unless_const_defined_source')" id="l_method-i-test_directories_manifest_as_modules_unless_const_defined_source">show</a>
                
              </p>
              <div id="method-i-test_directories_manifest_as_modules_unless_const_defined_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 156</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_directories_manifest_as_modules_unless_const_defined</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Module</span>, <span class="ruby-constant">ModuleFolder</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">__send__</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ModuleFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_directories_may_manifest_as_nested_classes">
            
              <b>test_directories_may_manifest_as_nested_classes</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_directories_may_manifest_as_nested_classes" name="method-i-test_directories_may_manifest_as_nested_classes" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_directories_may_manifest_as_nested_classes_source')" id="l_method-i-test_directories_may_manifest_as_nested_classes_source">show</a>
                
              </p>
              <div id="method-i-test_directories_may_manifest_as_nested_classes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 177</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_directories_may_manifest_as_nested_classes</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ClassFolder</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">__send__</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ClassFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_doesnt_break_normal_require">
            
              <b>test_doesnt_break_normal_require</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_doesnt_break_normal_require" name="method-i-test_doesnt_break_normal_require" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_doesnt_break_normal_require_source')" id="l_method-i-test_doesnt_break_normal_require_source">show</a>
                
              </p>
              <div id="method-i-test_doesnt_break_normal_require_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 216</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_doesnt_break_normal_require</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-string">&quot;../autoloading_fixtures/load_path&quot;</span>, <span class="ruby-keyword">__FILE__</span>)
  <span class="ruby-identifier">original_path</span> = <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">original_features</span> = <span class="ruby-identifier">$&quot;</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">path</span>)

  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-comment"># The _ = assignments are to prevent warnings</span>
    <span class="ruby-identifier">_</span> = <span class="ruby-constant">RequiresConstant</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">RequiresConstant</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">LoadedConstant</span>)
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">_</span> = <span class="ruby-constant">RequiresConstant</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">RequiresConstant</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">LoadedConstant</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">remove_constants</span>(<span class="ruby-value">:RequiresConstant</span>, <span class="ruby-value">:LoadedConstant</span>, <span class="ruby-value">:LoadsConstant</span>)
  <span class="ruby-identifier">$&quot;</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">original_features</span>)
  <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">original_path</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_doesnt_break_normal_require_nested">
            
              <b>test_doesnt_break_normal_require_nested</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_doesnt_break_normal_require_nested" name="method-i-test_doesnt_break_normal_require_nested" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_doesnt_break_normal_require_nested_source')" id="l_method-i-test_doesnt_break_normal_require_nested_source">show</a>
                
              </p>
              <div id="method-i-test_doesnt_break_normal_require_nested_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 238</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_doesnt_break_normal_require_nested</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-string">&quot;../autoloading_fixtures/load_path&quot;</span>, <span class="ruby-keyword">__FILE__</span>)
  <span class="ruby-identifier">original_path</span> = <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">original_features</span> = <span class="ruby-identifier">$&quot;</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">path</span>)

  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-comment"># The _ = assignments are to prevent warnings</span>
    <span class="ruby-identifier">_</span> = <span class="ruby-constant">LoadsConstant</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">LoadsConstant</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">LoadedConstant</span>)
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">_</span> = <span class="ruby-constant">LoadsConstant</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">LoadsConstant</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">LoadedConstant</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">remove_constants</span>(<span class="ruby-value">:RequiresConstant</span>, <span class="ruby-value">:LoadedConstant</span>, <span class="ruby-value">:LoadsConstant</span>)
  <span class="ruby-identifier">$&quot;</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">original_features</span>)
  <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">original_path</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_file_search">
            
              <b>test_file_search</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_file_search" name="method-i-test_file_search" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_file_search_source')" id="l_method-i-test_file_search_source">show</a>
                
              </p>
              <div id="method-i-test_file_search_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 467</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_file_search</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">&#39;dependencies&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">root</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_paths</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">search_for_file</span>(<span class="ruby-string">&#39;service_three&#39;</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">search_for_file</span>(<span class="ruby-string">&#39;service_three.rb&#39;</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">root</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/service_one.rb&#39;</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">search_for_file</span>(<span class="ruby-string">&#39;service_one&#39;</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">root</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/service_one.rb&#39;</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">search_for_file</span>(<span class="ruby-string">&#39;service_one.rb&#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_file_search_uses_first_in_load_path">
            
              <b>test_file_search_uses_first_in_load_path</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_file_search_uses_first_in_load_path" name="method-i-test_file_search_uses_first_in_load_path" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_file_search_uses_first_in_load_path_source')" id="l_method-i-test_file_search_uses_first_in_load_path_source">show</a>
                
              </p>
              <div id="method-i-test_file_search_uses_first_in_load_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 477</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_file_search_uses_first_in_load_path</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">&#39;dependencies&#39;</span>, <span class="ruby-string">&#39;autoloading_fixtures&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">deps</span>, <span class="ruby-identifier">autoload</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_paths</span>
    <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">/dependencies/</span>, <span class="ruby-identifier">deps</span>
    <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">/autoloading_fixtures/</span>, <span class="ruby-identifier">autoload</span>

    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">deps</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/conflict.rb&#39;</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">search_for_file</span>(<span class="ruby-string">&#39;conflict&#39;</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">&#39;autoloading_fixtures&#39;</span>, <span class="ruby-string">&#39;dependencies&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">autoload</span>, <span class="ruby-identifier">deps</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_paths</span>
    <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">/dependencies/</span>, <span class="ruby-identifier">deps</span>
    <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">/autoloading_fixtures/</span>, <span class="ruby-identifier">autoload</span>

    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">autoload</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/conflict.rb&#39;</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">search_for_file</span>(<span class="ruby-string">&#39;conflict&#39;</span>)
  <span class="ruby-keyword">end</span>

<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_file_with_multiple_constants_and_auto_loading">
            
              <b>test_file_with_multiple_constants_and_auto_loading</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_file_with_multiple_constants_and_auto_loading" name="method-i-test_file_with_multiple_constants_and_auto_loading" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_file_with_multiple_constants_and_auto_loading_source')" id="l_method-i-test_file_with_multiple_constants_and_auto_loading_source">show</a>
                
              </p>
              <div id="method-i-test_file_with_multiple_constants_and_auto_loading_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 786</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_file_with_multiple_constants_and_auto_loading</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">SiblingConstant</span>)

    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">10</span>, <span class="ruby-constant">MultipleConstantFile</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">SiblingConstant</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:SiblingConstant</span>)

    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">SiblingConstant</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_file_with_multiple_constants_and_require_dependency">
            
              <b>test_file_with_multiple_constants_and_require_dependency</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_file_with_multiple_constants_and_require_dependency" name="method-i-test_file_with_multiple_constants_and_require_dependency" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_file_with_multiple_constants_and_require_dependency_source')" id="l_method-i-test_file_with_multiple_constants_and_require_dependency_source">show</a>
                
              </p>
              <div id="method-i-test_file_with_multiple_constants_and_require_dependency_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 768</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_file_with_multiple_constants_and_require_dependency</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">SiblingConstant</span>)

    <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">&#39;multiple_constant_file&#39;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">SiblingConstant</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:SiblingConstant</span>)

    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">SiblingConstant</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_hook_called_multiple_times">
            
              <b>test_hook_called_multiple_times</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_hook_called_multiple_times" name="method-i-test_hook_called_multiple_times" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_hook_called_multiple_times_source')" id="l_method-i-test_hook_called_multiple_times_source">show</a>
                
              </p>
              <div id="method-i-test_hook_called_multiple_times_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 961</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_hook_called_multiple_times</span>
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">hook!</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_once_constants_should_not_be_unloaded">
            
              <b>test_load_once_constants_should_not_be_unloaded</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_load_once_constants_should_not_be_unloaded" name="method-i-test_load_once_constants_should_not_be_unloaded" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_load_once_constants_should_not_be_unloaded_source')" id="l_method-i-test_load_once_constants_should_not_be_unloaded_source">show</a>
                
              </p>
              <div id="method-i-test_load_once_constants_should_not_be_unloaded_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 932</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_load_once_constants_should_not_be_unloaded</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_once_paths</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_paths</span>
    <span class="ruby-identifier">_</span> = <span class="ruby-operator">::</span><span class="ruby-constant">A</span> <span class="ruby-comment"># assignment to silence parse-time warning &quot;possibly useless use of :: in void context&quot;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">A</span>)
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">A</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_once_paths</span> = []
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-value">:A</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:A</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_raises_load_error_when_file_not_found">
            
              <b>test_load_raises_load_error_when_file_not_found</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_load_raises_load_error_when_file_not_found" name="method-i-test_load_raises_load_error_when_file_not_found" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_load_raises_load_error_when_file_not_found_source')" id="l_method-i-test_load_raises_load_error_when_file_not_found_source">show</a>
                
              </p>
              <div id="method-i-test_load_raises_load_error_when_file_not_found_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 331</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_load_raises_load_error_when_file_not_found</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">LoadError</span>) { <span class="ruby-identifier">load</span> <span class="ruby-string">&#39;this_file_dont_exist_dude.rb&#39;</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">remove_constants</span>(<span class="ruby-value">:LoadedConstant</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_returns_true_when_file_found">
            
              <b>test_load_returns_true_when_file_found</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_load_returns_true_when_file_found" name="method-i-test_load_returns_true_when_file_found" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_load_returns_true_when_file_found_source')" id="l_method-i-test_load_returns_true_when_file_found_source">show</a>
                
              </p>
              <div id="method-i-test_load_returns_true_when_file_found_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 315</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_load_returns_true_when_file_found</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-string">&quot;../autoloading_fixtures/load_path&quot;</span>, <span class="ruby-keyword">__FILE__</span>)
  <span class="ruby-identifier">original_path</span> = <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">original_features</span> = <span class="ruby-identifier">$&quot;</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">path</span>)

  <span class="ruby-identifier">with_loading</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">load</span>(<span class="ruby-string">&#39;loaded_constant.rb&#39;</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">load</span>(<span class="ruby-string">&#39;loaded_constant.rb&#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">remove_constants</span>(<span class="ruby-value">:LoadedConstant</span>)
  <span class="ruby-identifier">$&quot;</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">original_features</span>)
  <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">original_path</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loadable_constants_for_path_should_handle_empty_autoloads">
            
              <b>test_loadable_constants_for_path_should_handle_empty_autoloads</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_loadable_constants_for_path_should_handle_empty_autoloads" name="method-i-test_loadable_constants_for_path_should_handle_empty_autoloads" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loadable_constants_for_path_should_handle_empty_autoloads_source')" id="l_method-i-test_loadable_constants_for_path_should_handle_empty_autoloads_source">show</a>
                
              </p>
              <div id="method-i-test_loadable_constants_for_path_should_handle_empty_autoloads_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 372</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loadable_constants_for_path_should_handle_empty_autoloads</span>
  <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loadable_constants_for_path</span>(<span class="ruby-string">&#39;hello&#39;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loadable_constants_for_path_should_handle_relative_paths">
            
              <b>test_loadable_constants_for_path_should_handle_relative_paths</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_loadable_constants_for_path_should_handle_relative_paths" name="method-i-test_loadable_constants_for_path_should_handle_relative_paths" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loadable_constants_for_path_should_handle_relative_paths_source')" id="l_method-i-test_loadable_constants_for_path_should_handle_relative_paths_source">show</a>
                
              </p>
              <div id="method-i-test_loadable_constants_for_path_should_handle_relative_paths_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 376</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loadable_constants_for_path_should_handle_relative_paths</span>
  <span class="ruby-identifier">fake_root</span> = <span class="ruby-string">&#39;dependencies&#39;</span>
  <span class="ruby-identifier">relative_root</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/dependencies&#39;</span>
  [<span class="ruby-string">&#39;&#39;</span>, <span class="ruby-string">&#39;/&#39;</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">suffix</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">with_loading</span> <span class="ruby-identifier">fake_root</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">suffix</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;A::B&quot;</span>], <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loadable_constants_for_path</span>(<span class="ruby-identifier">relative_root</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/a/b&#39;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loadable_constants_for_path_should_provide_all_results">
            
              <b>test_loadable_constants_for_path_should_provide_all_results</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_loadable_constants_for_path_should_provide_all_results" name="method-i-test_loadable_constants_for_path_should_provide_all_results" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loadable_constants_for_path_should_provide_all_results_source')" id="l_method-i-test_loadable_constants_for_path_should_provide_all_results_source">show</a>
                
              </p>
              <div id="method-i-test_loadable_constants_for_path_should_provide_all_results_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 386</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loadable_constants_for_path_should_provide_all_results</span>
  <span class="ruby-identifier">fake_root</span> = <span class="ruby-string">&#39;/usr/apps/backpack&#39;</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-identifier">fake_root</span>, <span class="ruby-identifier">fake_root</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/lib&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">root</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_paths</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;Lib::A::B&quot;</span>, <span class="ruby-string">&quot;A::B&quot;</span>], <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loadable_constants_for_path</span>(<span class="ruby-identifier">root</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/lib/a/b&#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loadable_constants_for_path_should_uniq_results">
            
              <b>test_loadable_constants_for_path_should_uniq_results</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_loadable_constants_for_path_should_uniq_results" name="method-i-test_loadable_constants_for_path_should_uniq_results" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loadable_constants_for_path_should_uniq_results_source')" id="l_method-i-test_loadable_constants_for_path_should_uniq_results_source">show</a>
                
              </p>
              <div id="method-i-test_loadable_constants_for_path_should_uniq_results_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 394</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loadable_constants_for_path_should_uniq_results</span>
  <span class="ruby-identifier">fake_root</span> = <span class="ruby-string">&#39;/usr/apps/backpack/lib&#39;</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-identifier">fake_root</span>, <span class="ruby-identifier">fake_root</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">root</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoload_paths</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;A::B&quot;</span>], <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loadable_constants_for_path</span>(<span class="ruby-identifier">root</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/a/b&#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loadable_constants_with_load_path_without_trailing_slash">
            
              <b>test_loadable_constants_with_load_path_without_trailing_slash</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_loadable_constants_with_load_path_without_trailing_slash" name="method-i-test_loadable_constants_with_load_path_without_trailing_slash" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loadable_constants_with_load_path_without_trailing_slash_source')" id="l_method-i-test_loadable_constants_with_load_path_without_trailing_slash_source">show</a>
                
              </p>
              <div id="method-i-test_loadable_constants_with_load_path_without_trailing_slash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 402</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loadable_constants_with_load_path_without_trailing_slash</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/autoloading_fixtures/class_folder/inline_class.rb&#39;</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">&#39;autoloading_fixtures/class/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loadable_constants_for_path</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_missing_dependency_raises_missing_source_file">
            
              <b>test_missing_dependency_raises_missing_source_file</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_missing_dependency_raises_missing_source_file" name="method-i-test_missing_dependency_raises_missing_source_file" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_missing_dependency_raises_missing_source_file_source')" id="l_method-i-test_missing_dependency_raises_missing_source_file_source">show</a>
                
              </p>
              <div id="method-i-test_missing_dependency_raises_missing_source_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_missing_dependency_raises_missing_source_file</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">MissingSourceFile</span>) { <span class="ruby-identifier">require_dependency</span>(<span class="ruby-string">&quot;missing_service&quot;</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_module_loading">
            
              <b>test_module_loading</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_module_loading" name="method-i-test_module_loading" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_module_loading_source')" id="l_method-i-test_module_loading_source">show</a>
                
              </p>
              <div id="method-i-test_module_loading_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_module_loading</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Module</span>, <span class="ruby-constant">A</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">B</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">C</span><span class="ruby-operator">::</span><span class="ruby-constant">D</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">C</span><span class="ruby-operator">::</span><span class="ruby-constant">E</span><span class="ruby-operator">::</span><span class="ruby-constant">F</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_module_with_nested_class">
            
              <b>test_module_with_nested_class</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_module_with_nested_class" name="method-i-test_module_with_nested_class" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_module_with_nested_class_source')" id="l_method-i-test_module_with_nested_class_source">show</a>
                
              </p>
              <div id="method-i-test_module_with_nested_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 163</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_module_with_nested_class</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">__send__</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ModuleFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_module_with_nested_inline_class">
            
              <b>test_module_with_nested_inline_class</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_module_with_nested_inline_class" name="method-i-test_module_with_nested_inline_class" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_module_with_nested_inline_class_source')" id="l_method-i-test_module_with_nested_inline_class_source">show</a>
                
              </p>
              <div id="method-i-test_module_with_nested_inline_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 170</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_module_with_nested_inline_class</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">InlineClass</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">__send__</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ModuleFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_mutual_dependencies_dont_infinite_loop">
            
              <b>test_mutual_dependencies_dont_infinite_loop</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_mutual_dependencies_dont_infinite_loop" name="method-i-test_mutual_dependencies_dont_infinite_loop" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_mutual_dependencies_dont_infinite_loop_source')" id="l_method-i-test_mutual_dependencies_dont_infinite_loop_source">show</a>
                
              </p>
              <div id="method-i-test_mutual_dependencies_dont_infinite_loop_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 117</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_mutual_dependencies_dont_infinite_loop</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">&#39;dependencies&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">$mutual_dependencies_count</span> = <span class="ruby-number">0</span>
    <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">&#39;mutual_one&#39;</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">$mutual_dependencies_count</span>

    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>

    <span class="ruby-identifier">$mutual_dependencies_count</span> = <span class="ruby-number">0</span>
    <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">&#39;mutual_two&#39;</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">$mutual_dependencies_count</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_class_can_access_sibling">
            
              <b>test_nested_class_can_access_sibling</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_nested_class_can_access_sibling" name="method-i-test_nested_class_can_access_sibling" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_class_can_access_sibling_source')" id="l_method-i-test_nested_class_can_access_sibling_source">show</a>
                
              </p>
              <div id="method-i-test_nested_class_can_access_sibling_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 207</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_class_can_access_sibling</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">sibling</span> = <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-string">&quot;NestedSibling&quot;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedSibling</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedSibling</span>, <span class="ruby-identifier">sibling</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">__send__</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ModuleFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_file_with_multiple_constants_and_auto_loading">
            
              <b>test_nested_file_with_multiple_constants_and_auto_loading</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_nested_file_with_multiple_constants_and_auto_loading" name="method-i-test_nested_file_with_multiple_constants_and_auto_loading" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_file_with_multiple_constants_and_auto_loading_source')" id="l_method-i-test_nested_file_with_multiple_constants_and_auto_loading_source">show</a>
                
              </p>
              <div id="method-i-test_nested_file_with_multiple_constants_and_auto_loading_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 824</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_file_with_multiple_constants_and_auto_loading</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">SiblingClass</span>)

    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">SiblingClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ClassFolder::NestedClass&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ClassFolder::SiblingClass&quot;</span>)

    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">SiblingClass</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_file_with_multiple_constants_and_require_dependency">
            
              <b>test_nested_file_with_multiple_constants_and_require_dependency</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_nested_file_with_multiple_constants_and_require_dependency" name="method-i-test_nested_file_with_multiple_constants_and_require_dependency" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_file_with_multiple_constants_and_require_dependency_source')" id="l_method-i-test_nested_file_with_multiple_constants_and_require_dependency_source">show</a>
                
              </p>
              <div id="method-i-test_nested_file_with_multiple_constants_and_require_dependency_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 805</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_file_with_multiple_constants_and_require_dependency</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">SiblingClass</span>)

    <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">&#39;class_folder/nested_class&#39;</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">SiblingClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ClassFolder::NestedClass&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ClassFolder::SiblingClass&quot;</span>)

    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">SiblingClass</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_load_error_isnt_rescued">
            
              <b>test_nested_load_error_isnt_rescued</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_nested_load_error_isnt_rescued" name="method-i-test_nested_load_error_isnt_rescued" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_load_error_isnt_rescued_source')" id="l_method-i-test_nested_load_error_isnt_rescued_source">show</a>
                
              </p>
              <div id="method-i-test_nested_load_error_isnt_rescued_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 575</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_load_error_isnt_rescued</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">&#39;dependencies&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">MissingSourceFile</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-constant">RequiresNonexistent1</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_constants_in_module">
            
              <b>test_new_constants_in_module</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_new_constants_in_module" name="method-i-test_new_constants_in_module" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_constants_in_module_source')" id="l_method-i-test_new_constants_in_module_source">show</a>
                
              </p>
              <div id="method-i-test_new_constants_in_module_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 718</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_constants_in_module</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:M</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>

  <span class="ruby-identifier">outer</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-constant">M</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">M</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:OuterBefore</span>, <span class="ruby-number">10</span>

    <span class="ruby-identifier">inner</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-constant">M</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-constant">M</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:Inner</span>, <span class="ruby-number">20</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;M::Inner&quot;</span>], <span class="ruby-identifier">inner</span>

    <span class="ruby-constant">M</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:OuterAfter</span>, <span class="ruby-number">30</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;M::OuterAfter&quot;</span>, <span class="ruby-string">&quot;M::OuterBefore&quot;</span>], <span class="ruby-identifier">outer</span>.<span class="ruby-identifier">sort</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">constant_watch_stack</span>.<span class="ruby-identifier">all?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">empty?</span> }
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-value">:M</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_constants_in_module_using_name">
            
              <b>test_new_constants_in_module_using_name</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_new_constants_in_module_using_name" name="method-i-test_new_constants_in_module_using_name" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_constants_in_module_using_name_source')" id="l_method-i-test_new_constants_in_module_using_name_source">show</a>
                
              </p>
              <div id="method-i-test_new_constants_in_module_using_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 737</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_constants_in_module_using_name</span>
  <span class="ruby-identifier">outer</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-value">:M</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:M</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-constant">M</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:OuterBefore</span>, <span class="ruby-number">10</span>

    <span class="ruby-identifier">inner</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-value">:M</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-constant">M</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:Inner</span>, <span class="ruby-number">20</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;M::Inner&quot;</span>], <span class="ruby-identifier">inner</span>

    <span class="ruby-constant">M</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:OuterAfter</span>, <span class="ruby-number">30</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;M::OuterAfter&quot;</span>, <span class="ruby-string">&quot;M::OuterBefore&quot;</span>], <span class="ruby-identifier">outer</span>.<span class="ruby-identifier">sort</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">constant_watch_stack</span>.<span class="ruby-identifier">all?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">empty?</span> }
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-value">:M</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_constants_in_with_a_single_constant">
            
              <b>test_new_constants_in_with_a_single_constant</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_new_constants_in_with_a_single_constant" name="method-i-test_new_constants_in_with_a_single_constant" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_constants_in_with_a_single_constant_source')" id="l_method-i-test_new_constants_in_with_a_single_constant_source">show</a>
                
              </p>
              <div id="method-i-test_new_constants_in_with_a_single_constant_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 690</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_constants_in_with_a_single_constant</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;Hello&quot;</span>], <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-constant">Object</span>) {
                            <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:Hello</span>, <span class="ruby-number">10</span>
                          }.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:to_s</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">constant_watch_stack</span>.<span class="ruby-identifier">all?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">empty?</span> }
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-value">:Hello</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_constants_in_with_illegal_module_name_raises_correct_error">
            
              <b>test_new_constants_in_with_illegal_module_name_raises_correct_error</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_new_constants_in_with_illegal_module_name_raises_correct_error" name="method-i-test_new_constants_in_with_illegal_module_name_raises_correct_error" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_constants_in_with_illegal_module_name_raises_correct_error_source')" id="l_method-i-test_new_constants_in_with_illegal_module_name_raises_correct_error_source">show</a>
                
              </p>
              <div id="method-i-test_new_constants_in_with_illegal_module_name_raises_correct_error_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 762</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_constants_in_with_illegal_module_name_raises_correct_error</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NameError</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-string">&quot;Illegal-Name&quot;</span>) {}
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_constants_in_with_inherited_constants">
            
              <b>test_new_constants_in_with_inherited_constants</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_new_constants_in_with_inherited_constants" name="method-i-test_new_constants_in_with_inherited_constants" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_constants_in_with_inherited_constants_source')" id="l_method-i-test_new_constants_in_with_inherited_constants_source">show</a>
                
              </p>
              <div id="method-i-test_new_constants_in_with_inherited_constants_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 755</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_constants_in_with_inherited_constants</span>
  <span class="ruby-identifier">m</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-value">:Object</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">include</span> <span class="ruby-constant">ModuleWithConstant</span> }
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-identifier">m</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_constants_in_with_nesting">
            
              <b>test_new_constants_in_with_nesting</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_new_constants_in_with_nesting" name="method-i-test_new_constants_in_with_nesting" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_constants_in_with_nesting_source')" id="l_method-i-test_new_constants_in_with_nesting_source">show</a>
                
              </p>
              <div id="method-i-test_new_constants_in_with_nesting_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 699</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_constants_in_with_nesting</span>
  <span class="ruby-identifier">outer</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-constant">Object</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:OuterBefore</span>, <span class="ruby-number">10</span>

    <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;Inner&quot;</span>], <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-constant">Object</span>) {
                              <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:Inner</span>, <span class="ruby-number">20</span>
                            }.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:to_s</span>)

    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:OuterAfter</span>, <span class="ruby-number">30</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;OuterAfter&quot;</span>, <span class="ruby-string">&quot;OuterBefore&quot;</span>], <span class="ruby-identifier">outer</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:to_s</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">constant_watch_stack</span>.<span class="ruby-identifier">all?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">empty?</span> }
<span class="ruby-keyword">ensure</span>
  <span class="ruby-node">%w(OuterBefore Inner OuterAfter)</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">const_defined?</span>(<span class="ruby-identifier">name</span>) }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_contants_in_without_constants">
            
              <b>test_new_contants_in_without_constants</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_new_contants_in_without_constants" name="method-i-test_new_contants_in_without_constants" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_contants_in_without_constants_source')" id="l_method-i-test_new_contants_in_without_constants_source">show</a>
                
              </p>
              <div id="method-i-test_new_contants_in_without_constants_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 685</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_contants_in_without_constants</span>
  <span class="ruby-identifier">assert_equal</span> [], (<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-constant">Object</span>) { })
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">constant_watch_stack</span>.<span class="ruby-identifier">all?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">empty?</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_non_existing_const_raises_name_error">
            
              <b>test_non_existing_const_raises_name_error</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_non_existing_const_raises_name_error" name="method-i-test_non_existing_const_raises_name_error" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_non_existing_const_raises_name_error_source')" id="l_method-i-test_non_existing_const_raises_name_error_source">show</a>
                
              </p>
              <div id="method-i-test_non_existing_const_raises_name_error_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 147</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_non_existing_const_raises_name_error</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">DoesNotExist</span> }
    <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">NoModule</span><span class="ruby-operator">::</span><span class="ruby-constant">DoesNotExist</span> }
    <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">DoesNotExist</span> }
    <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">B</span><span class="ruby-operator">::</span><span class="ruby-constant">DoesNotExist</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_non_existing_const_raises_name_error_with_fully_qualified_name">
            
              <b>test_non_existing_const_raises_name_error_with_fully_qualified_name</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_non_existing_const_raises_name_error_with_fully_qualified_name" name="method-i-test_non_existing_const_raises_name_error_with_fully_qualified_name" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_non_existing_const_raises_name_error_with_fully_qualified_name_source')" id="l_method-i-test_non_existing_const_raises_name_error_with_fully_qualified_name_source">show</a>
                
              </p>
              <div id="method-i-test_non_existing_const_raises_name_error_with_fully_qualified_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 348</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_non_existing_const_raises_name_error_with_fully_qualified_name</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">DoesNotExist</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">flunk</span> <span class="ruby-string">&quot;No raise!!&quot;</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;uninitialized constant A::DoesNotExist&quot;</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">B</span><span class="ruby-operator">::</span><span class="ruby-constant">DoesNotExist</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">flunk</span> <span class="ruby-string">&quot;No raise!!&quot;</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;uninitialized constant A::B::DoesNotExist&quot;</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preexisting_constants_are_not_marked_as_autoloaded">
            
              <b>test_preexisting_constants_are_not_marked_as_autoloaded</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_preexisting_constants_are_not_marked_as_autoloaded" name="method-i-test_preexisting_constants_are_not_marked_as_autoloaded" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preexisting_constants_are_not_marked_as_autoloaded_source')" id="l_method-i-test_preexisting_constants_are_not_marked_as_autoloaded_source">show</a>
                
              </p>
              <div id="method-i-test_preexisting_constants_are_not_marked_as_autoloaded_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 625</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preexisting_constants_are_not_marked_as_autoloaded</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">&#39;e&#39;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:E</span>)
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:E</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">&#39;e&#39;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:E</span>), <span class="ruby-string">&quot;E shouldn&#39;t be marked autoloaded!&quot;</span>
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-keyword">end</span>

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-value">:E</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_qualified_const_defined">
            
              <b>test_qualified_const_defined</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_qualified_const_defined" name="method-i-test_qualified_const_defined" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_qualified_const_defined_source')" id="l_method-i-test_qualified_const_defined_source">show</a>
                
              </p>
              <div id="method-i-test_qualified_const_defined_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 409</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_qualified_const_defined</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_const_defined?</span>(<span class="ruby-string">&quot;Object&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_const_defined?</span>(<span class="ruby-string">&quot;::Object&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_const_defined?</span>(<span class="ruby-string">&quot;::Object::Kernel&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_const_defined?</span>(<span class="ruby-string">&quot;::ActiveSupport::TestCase&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_qualified_const_defined_explodes_with_invalid_const_name">
            
              <b>test_qualified_const_defined_explodes_with_invalid_const_name</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_qualified_const_defined_explodes_with_invalid_const_name" name="method-i-test_qualified_const_defined_explodes_with_invalid_const_name" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_qualified_const_defined_explodes_with_invalid_const_name_source')" id="l_method-i-test_qualified_const_defined_explodes_with_invalid_const_name_source">show</a>
                
              </p>
              <div id="method-i-test_qualified_const_defined_explodes_with_invalid_const_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 424</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_qualified_const_defined_explodes_with_invalid_const_name</span>
  <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_const_defined?</span>(<span class="ruby-string">&quot;invalid&quot;</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_qualified_const_defined_should_not_call_const_missing">
            
              <b>test_qualified_const_defined_should_not_call_const_missing</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_qualified_const_defined_should_not_call_const_missing" name="method-i-test_qualified_const_defined_should_not_call_const_missing" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_qualified_const_defined_should_not_call_const_missing_source')" id="l_method-i-test_qualified_const_defined_should_not_call_const_missing_source">show</a>
                
              </p>
              <div id="method-i-test_qualified_const_defined_should_not_call_const_missing_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 416</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_qualified_const_defined_should_not_call_const_missing</span>
  <span class="ruby-constant">ModuleWithMissing</span>.<span class="ruby-identifier">missing_count</span> = <span class="ruby-number">0</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_const_defined?</span>(<span class="ruby-string">&quot;ModuleWithMissing::A&quot;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-constant">ModuleWithMissing</span>.<span class="ruby-identifier">missing_count</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_const_defined?</span>(<span class="ruby-string">&quot;ModuleWithMissing::A::B&quot;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-constant">ModuleWithMissing</span>.<span class="ruby-identifier">missing_count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_qualified_name_for">
            
              <b>test_qualified_name_for</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_qualified_name_for" name="method-i-test_qualified_name_for" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_qualified_name_for_source')" id="l_method-i-test_qualified_name_for_source">show</a>
                
              </p>
              <div id="method-i-test_qualified_name_for_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 457</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_qualified_name_for</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;A&quot;</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_name_for</span>(<span class="ruby-constant">Object</span>, <span class="ruby-value">:A</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;A&quot;</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_name_for</span>(<span class="ruby-value">:Object</span>, <span class="ruby-value">:A</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;A&quot;</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_name_for</span>(<span class="ruby-string">&quot;Object&quot;</span>, <span class="ruby-value">:A</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;A&quot;</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_name_for</span>(<span class="ruby-string">&quot;::Object&quot;</span>, <span class="ruby-value">:A</span>)

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;ActiveSupport::Dependencies::A&quot;</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_name_for</span>(<span class="ruby-value">:&#39;ActiveSupport::Dependencies&#39;</span>, <span class="ruby-value">:A</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;ActiveSupport::Dependencies::A&quot;</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_name_for</span>(<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>, <span class="ruby-value">:A</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_references_should_work">
            
              <b>test_references_should_work</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_references_should_work" name="method-i-test_references_should_work" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_references_should_work_source')" id="l_method-i-test_references_should_work_source">show</a>
                
              </p>
              <div id="method-i-test_references_should_work_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 555</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_references_should_work</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">&#39;dependencies&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">c</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">reference</span>(<span class="ruby-string">&quot;ServiceOne&quot;</span>)
    <span class="ruby-identifier">service_one_first</span> = <span class="ruby-constant">ServiceOne</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">service_one_first</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&quot;ServiceOne&quot;</span>)
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ServiceOne</span>)

    <span class="ruby-identifier">service_one_second</span> = <span class="ruby-constant">ServiceOne</span>
    <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">service_one_first</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&quot;ServiceOne&quot;</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">service_one_second</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&quot;ServiceOne&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_removal_from_tree_should_be_detected">
            
              <b>test_removal_from_tree_should_be_detected</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_removal_from_tree_should_be_detected" name="method-i-test_removal_from_tree_should_be_detected" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_removal_from_tree_should_be_detected_source')" id="l_method-i-test_removal_from_tree_should_be_detected_source">show</a>
                
              </p>
              <div id="method-i-test_removal_from_tree_should_be_detected_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 541</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_removal_from_tree_should_be_detected</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">&#39;dependencies&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">c</span> = <span class="ruby-constant">ServiceOne</span>
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ServiceOne</span>)
    <span class="ruby-keyword">begin</span>
      <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_missing_constant</span>(<span class="ruby-identifier">c</span>, <span class="ruby-value">:FakeMissing</span>)
      <span class="ruby-identifier">flunk</span> <span class="ruby-string">&quot;Expected exception&quot;</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ArgumentError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{ServiceOne has been removed from the module tree}</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_remove_constant_does_not_autoload_already_removed_parents_as_a_side_effect">
            
              <b>test_remove_constant_does_not_autoload_already_removed_parents_as_a_side_effect</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_remove_constant_does_not_autoload_already_removed_parents_as_a_side_effect" name="method-i-test_remove_constant_does_not_autoload_already_removed_parents_as_a_side_effect" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_remove_constant_does_not_autoload_already_removed_parents_as_a_side_effect_source')" id="l_method-i-test_remove_constant_does_not_autoload_already_removed_parents_as_a_side_effect_source">show</a>
                
              </p>
              <div id="method-i-test_remove_constant_does_not_autoload_already_removed_parents_as_a_side_effect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 922</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_remove_constant_does_not_autoload_already_removed_parents_as_a_side_effect</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">_</span> = <span class="ruby-operator">::</span><span class="ruby-constant">A</span>    <span class="ruby-comment"># assignment to silence parse-time warning &quot;possibly useless use of :: in void context&quot;</span>
    <span class="ruby-identifier">_</span> = <span class="ruby-operator">::</span><span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">B</span> <span class="ruby-comment"># assignment to silence parse-time warning &quot;possibly useless use of :: in void context&quot;</span>
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">remove_constant</span>(<span class="ruby-string">&#39;A&#39;</span>)
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">remove_constant</span>(<span class="ruby-string">&#39;A::B&#39;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-constant">A</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_remove_constant_does_not_trigger_loading_autoloads">
            
              <b>test_remove_constant_does_not_trigger_loading_autoloads</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_remove_constant_does_not_trigger_loading_autoloads" name="method-i-test_remove_constant_does_not_trigger_loading_autoloads" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_remove_constant_does_not_trigger_loading_autoloads_source')" id="l_method-i-test_remove_constant_does_not_trigger_loading_autoloads_source">show</a>
                
              </p>
              <div id="method-i-test_remove_constant_does_not_trigger_loading_autoloads_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 912</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_remove_constant_does_not_trigger_loading_autoloads</span>
  <span class="ruby-identifier">constant</span> = <span class="ruby-string">&#39;ShouldNotBeAutoloaded&#39;</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">autoload</span> <span class="ruby-identifier">constant</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-string">&#39;../autoloading_fixtures/should_not_be_required&#39;</span>, <span class="ruby-keyword">__FILE__</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">remove_constant</span>(<span class="ruby-identifier">constant</span>), <span class="ruby-node">&quot;Kernel#autoload has been triggered by remove_constant&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ShouldNotBeAutoloaded</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_remove_constant_handles_double_colon_at_start">
            
              <b>test_remove_constant_handles_double_colon_at_start</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_remove_constant_handles_double_colon_at_start" name="method-i-test_remove_constant_handles_double_colon_at_start" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_remove_constant_handles_double_colon_at_start_source')" id="l_method-i-test_remove_constant_handles_double_colon_at_start_source">show</a>
                
              </p>
              <div id="method-i-test_remove_constant_handles_double_colon_at_start_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 902</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_remove_constant_handles_double_colon_at_start</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-string">&#39;DeleteMe&#39;</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-constant">DeleteMe</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-string">&#39;OrMe&#39;</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">remove_constant</span> <span class="ruby-string">&quot;::DeleteMe::OrMe&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">DeleteMe</span><span class="ruby-operator">::</span><span class="ruby-constant">OrMe</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">DeleteMe</span>)
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">remove_constant</span> <span class="ruby-string">&quot;::DeleteMe&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">DeleteMe</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_require_raises_load_error_when_file_not_found">
            
              <b>test_require_raises_load_error_when_file_not_found</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_require_raises_load_error_when_file_not_found" name="method-i-test_require_raises_load_error_when_file_not_found" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_require_raises_load_error_when_file_not_found_source')" id="l_method-i-test_require_raises_load_error_when_file_not_found_source">show</a>
                
              </p>
              <div id="method-i-test_require_raises_load_error_when_file_not_found_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 307</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_require_raises_load_error_when_file_not_found</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">LoadError</span>) { <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;this_file_dont_exist_dude&#39;</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">remove_constants</span>(<span class="ruby-value">:LoadedConstant</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_require_returns_false_when_file_already_required">
            
              <b>test_require_returns_false_when_file_already_required</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_require_returns_false_when_file_already_required" name="method-i-test_require_returns_false_when_file_already_required" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_require_returns_false_when_file_already_required_source')" id="l_method-i-test_require_returns_false_when_file_already_required_source">show</a>
                
              </p>
              <div id="method-i-test_require_returns_false_when_file_already_required_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 291</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_require_returns_false_when_file_already_required</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-string">&quot;../autoloading_fixtures/load_path&quot;</span>, <span class="ruby-keyword">__FILE__</span>)
  <span class="ruby-identifier">original_path</span> = <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">original_features</span> = <span class="ruby-identifier">$&quot;</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">path</span>)

  <span class="ruby-identifier">with_loading</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;loaded_constant&#39;</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">false</span>, <span class="ruby-identifier">require</span>(<span class="ruby-string">&#39;loaded_constant&#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">remove_constants</span>(<span class="ruby-value">:LoadedConstant</span>)
  <span class="ruby-identifier">$&quot;</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">original_features</span>)
  <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">original_path</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_require_returns_true_when_file_not_yet_required">
            
              <b>test_require_returns_true_when_file_not_yet_required</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_require_returns_true_when_file_not_yet_required" name="method-i-test_require_returns_true_when_file_not_yet_required" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_require_returns_true_when_file_not_yet_required_source')" id="l_method-i-test_require_returns_true_when_file_not_yet_required_source">show</a>
                
              </p>
              <div id="method-i-test_require_returns_true_when_file_not_yet_required_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 260</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_require_returns_true_when_file_not_yet_required</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-string">&quot;../autoloading_fixtures/load_path&quot;</span>, <span class="ruby-keyword">__FILE__</span>)
  <span class="ruby-identifier">original_path</span> = <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">original_features</span> = <span class="ruby-identifier">$&quot;</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">path</span>)

  <span class="ruby-identifier">with_loading</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">require</span>(<span class="ruby-string">&#39;loaded_constant&#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">remove_constants</span>(<span class="ruby-value">:LoadedConstant</span>)
  <span class="ruby-identifier">$&quot;</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">original_features</span>)
  <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">original_path</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_require_returns_true_when_file_not_yet_required_even_when_no_new_constants_added">
            
              <b>test_require_returns_true_when_file_not_yet_required_even_when_no_new_constants_added</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_require_returns_true_when_file_not_yet_required_even_when_no_new_constants_added" name="method-i-test_require_returns_true_when_file_not_yet_required_even_when_no_new_constants_added" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_require_returns_true_when_file_not_yet_required_even_when_no_new_constants_added_source')" id="l_method-i-test_require_returns_true_when_file_not_yet_required_even_when_no_new_constants_added_source">show</a>
                
              </p>
              <div id="method-i-test_require_returns_true_when_file_not_yet_required_even_when_no_new_constants_added_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 275</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_require_returns_true_when_file_not_yet_required_even_when_no_new_constants_added</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-string">&quot;../autoloading_fixtures/load_path&quot;</span>, <span class="ruby-keyword">__FILE__</span>)
  <span class="ruby-identifier">original_path</span> = <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">original_features</span> = <span class="ruby-identifier">$&quot;</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">path</span>)

  <span class="ruby-identifier">with_loading</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-string">&quot;module LoadedConstant; end&quot;</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">require</span>(<span class="ruby-string">&#39;loaded_constant&#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">remove_constants</span>(<span class="ruby-value">:LoadedConstant</span>)
  <span class="ruby-identifier">$&quot;</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">original_features</span>)
  <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">original_path</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_smart_name_error_strings">
            
              <b>test_smart_name_error_strings</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_smart_name_error_strings" name="method-i-test_smart_name_error_strings" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_smart_name_error_strings_source')" id="l_method-i-test_smart_name_error_strings_source">show</a>
                
              </p>
              <div id="method-i-test_smart_name_error_strings_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 365</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_smart_name_error_strings</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-string">&quot;ImaginaryObject&quot;</span>
  <span class="ruby-identifier">flunk</span> <span class="ruby-string">&quot;No raise!!&quot;</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;uninitialized constant ImaginaryObject&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_tracking_identical_loaded_files">
            
              <b>test_tracking_identical_loaded_files</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_tracking_identical_loaded_files" name="method-i-test_tracking_identical_loaded_files" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_tracking_identical_loaded_files_source')" id="l_method-i-test_tracking_identical_loaded_files_source">show</a>
                
              </p>
              <div id="method-i-test_tracking_identical_loaded_files_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 47</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_tracking_identical_loaded_files</span>
  <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">&#39;dependencies/service_one&#39;</span>
  <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">&#39;dependencies/service_one&#39;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ServiceOne</span>) <span class="ruby-keyword">if</span> <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:ServiceOne</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_tracking_loaded_files">
            
              <b>test_tracking_loaded_files</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_tracking_loaded_files" name="method-i-test_tracking_loaded_files" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_tracking_loaded_files_source')" id="l_method-i-test_tracking_loaded_files_source">show</a>
                
              </p>
              <div id="method-i-test_tracking_loaded_files_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_tracking_loaded_files</span>
  <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">&#39;dependencies/service_one&#39;</span>
  <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">&#39;dependencies/service_two&#39;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ServiceOne</span>) <span class="ruby-keyword">if</span> <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:ServiceOne</span>)
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ServiceTwo</span>) <span class="ruby-keyword">if</span> <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:ServiceTwo</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_unhook">
            
              <b>test_unhook</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_unhook" name="method-i-test_unhook" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_unhook_source')" id="l_method-i-test_unhook_source">show</a>
                
              </p>
              <div id="method-i-test_unhook_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 965</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_unhook</span>
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">unhook!</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:const_missing_without_dependencies</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:load_without_new_constant_marking</span>)
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">hook!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_unloadable">
            
              <b>test_unloadable</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_unloadable" name="method-i-test_unloadable" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_unloadable_source')" id="l_method-i-test_unloadable_source">show</a>
                
              </p>
              <div id="method-i-test_unloadable_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 643</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_unloadable</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:M</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-constant">M</span>.<span class="ruby-identifier">unloadable</span>

    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">M</span>)

    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:M</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">M</span>), <span class="ruby-string">&quot;Dependencies should unload unloadable constants each time&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_unloadable_constants_should_receive_callback">
            
              <b>test_unloadable_constants_should_receive_callback</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_unloadable_constants_should_receive_callback" name="method-i-test_unloadable_constants_should_receive_callback" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_unloadable_constants_should_receive_callback_source')" id="l_method-i-test_unloadable_constants_should_receive_callback_source">show</a>
                
              </p>
              <div id="method-i-test_unloadable_constants_should_receive_callback_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 674</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_unloadable_constants_should_receive_callback</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:C</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-constant">C</span>.<span class="ruby-identifier">unloadable</span>
  <span class="ruby-constant">C</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-value">:before_remove_const</span>).<span class="ruby-identifier">once</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">C</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:before_remove_const</span>)
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-constant">C</span>)
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-value">:C</span> } <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">C</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_unloadable_should_fail_with_anonymous_modules">
            
              <b>test_unloadable_should_fail_with_anonymous_modules</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_unloadable_should_fail_with_anonymous_modules" name="method-i-test_unloadable_should_fail_with_anonymous_modules" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_unloadable_should_fail_with_anonymous_modules_source')" id="l_method-i-test_unloadable_should_fail_with_anonymous_modules_source">show</a>
                
              </p>
              <div id="method-i-test_unloadable_should_fail_with_anonymous_modules_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 657</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_unloadable_should_fail_with_anonymous_modules</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">m</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">m</span>.<span class="ruby-identifier">unloadable</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_unloadable_should_return_change_flag">
            
              <b>test_unloadable_should_return_change_flag</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_unloadable_should_return_change_flag" name="method-i-test_unloadable_should_return_change_flag" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_unloadable_should_return_change_flag_source')" id="l_method-i-test_unloadable_should_return_change_flag_source">show</a>
                
              </p>
              <div id="method-i-test_unloadable_should_return_change_flag_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 664</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_unloadable_should_return_change_flag</span>
  <span class="ruby-identifier">with_autoloading_fixtures</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:M</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">true</span>, <span class="ruby-constant">M</span>.<span class="ruby-identifier">unloadable</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">false</span>, <span class="ruby-constant">M</span>.<span class="ruby-identifier">unloadable</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-value">:M</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_warnings_should_be_enabled_on_first_load">
            
              <b>test_warnings_should_be_enabled_on_first_load</b>()
            
            <a href="../classes/DependenciesTest.html#method-i-test_warnings_should_be_enabled_on_first_load" name="method-i-test_warnings_should_be_enabled_on_first_load" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_warnings_should_be_enabled_on_first_load_source')" id="l_method-i-test_warnings_should_be_enabled_on_first_load_source">show</a>
                
              </p>
              <div id="method-i-test_warnings_should_be_enabled_on_first_load_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 79</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_warnings_should_be_enabled_on_first_load</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">&#39;dependencies&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">old_warnings</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">warnings_on_first_load</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">warnings_on_first_load</span>, <span class="ruby-keyword">true</span>

    <span class="ruby-identifier">filename</span> = <span class="ruby-string">&quot;check_warnings&quot;</span>
    <span class="ruby-identifier">expanded</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-node">&quot;#{File.dirname(__FILE__)}/dependencies/#{filename}&quot;</span>)
    <span class="ruby-identifier">$check_warnings_load_count</span> = <span class="ruby-number">0</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">history</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)

    <span class="ruby-identifier">silence_warnings</span> { <span class="ruby-identifier">require_dependency</span> <span class="ruby-identifier">filename</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">$check_warnings_load_count</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">$checked_verbose</span>, <span class="ruby-string">&#39;On first load warnings should be enabled.&#39;</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">history</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)

    <span class="ruby-identifier">silence_warnings</span> { <span class="ruby-identifier">require_dependency</span> <span class="ruby-identifier">filename</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">$check_warnings_load_count</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">$checked_verbose</span>, <span class="ruby-string">&#39;After first load warnings should be left alone.&#39;</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">history</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)

    <span class="ruby-identifier">enable_warnings</span> { <span class="ruby-identifier">require_dependency</span> <span class="ruby-identifier">filename</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">$check_warnings_load_count</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">$checked_verbose</span>, <span class="ruby-string">&#39;After first load warnings should be left alone.&#39;</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">warnings_on_first_load</span> = <span class="ruby-identifier">old_warnings</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    